# ============================================
# Mobile App Server - Environment Variables
# ============================================
# Copy this file to .env and update with your actual values
# Never commit .env to git - it contains sensitive information

# ============================================
# Core Configuration
# ============================================

# Node Environment (development, production, test)
NODE_ENV=production

# Server Port (default: 3000)
PORT=3000

# Server Instance Identifier (for load balancing - set per instance: server1, server2, server3)
SERVER_INSTANCE=server1

# Application URL (used for email links)
APP_URL=http://localhost:3000

# API URL (for Swagger documentation)
API_URL=http://localhost:3000

# ============================================
# Authentication & Security
# ============================================

# JWT Secret - Generate a strong random secret for production
# Generate with: openssl rand -base64 32
JWT_SECRET=change-this-secret-key-in-production-use-openssl-rand-base64-32

# JWT Token Expiration (default: 24h)
JWT_EXPIRES_IN=24h

# Refresh Token Expiration (default: 7d)
REFRESH_TOKEN_EXPIRES_IN=7d

# ============================================
# Database Configuration
# ============================================

# MongoDB Connection URI
# For Docker Compose (replica set):
MONGODB_URI=mongodb://mongodb1:27017,mongodb2:27017,mongodb3:27017/mobileapp?replicaSet=rs0

# For local development:
# MONGODB_URI=mongodb://localhost:27017/mobileapp

# MongoDB Read Pool Configuration
MONGODB_READ_POOL_SIZE=15
MONGODB_READ_MIN_POOL_SIZE=3

# MongoDB Write Pool Configuration
MONGODB_WRITE_POOL_SIZE=10
MONGODB_WRITE_MIN_POOL_SIZE=2

# ============================================
# Redis Configuration
# ============================================

# Redis Connection URL
# For Docker Compose:
REDIS_URL=redis://redis:6379

# For local development:
# REDIS_URL=redis://localhost:6379

# ============================================
# Firebase / Push Notifications (Optional)
# ============================================

# Option 1: Path to Firebase service account JSON file
# FIREBASE_SERVICE_ACCOUNT_PATH=/path/to/serviceAccountKey.json

# Option 2: Firebase service account JSON as environment variable (base64 encoded or escaped)
# FIREBASE_SERVICE_ACCOUNT={"type":"service_account","project_id":"..."}

# Option 3: Individual Firebase credentials
# FIREBASE_PROJECT_ID=your-project-id
# FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n"
# FIREBASE_CLIENT_EMAIL=firebase-adminsdk@your-project.iam.gserviceaccount.com

# ============================================
# Sentry Error Tracking (Optional)
# ============================================

# Sentry DSN - Get from https://sentry.io
# SENTRY_DSN=https://your-key@your-org.ingest.sentry.io/your-project-id

# Sentry Environment
# SENTRY_ENVIRONMENT=production

# Sentry Release Version
# SENTRY_RELEASE=1.0.0

# Sentry Performance Monitoring - Sample rate (0.0 to 1.0, default: 0.1 = 10%)
# SENTRY_TRACES_SAMPLE_RATE=0.1

# Sentry Profiling - Enable profiling (requires @sentry/profiling-node)
# SENTRY_ENABLE_PROFILING=false

# Sentry Profiling Sample Rate (0.0 to 1.0, default: 0.1 = 10%)
# SENTRY_PROFILES_SAMPLE_RATE=0.1

# ============================================
# Logging Configuration
# ============================================

# Log Level (error, warn, info, debug)
# Defaults to 'info' in production, 'debug' in development
# LOG_LEVEL=info

# ============================================
# CORS Configuration
# ============================================

# Allowed CORS Origins (comma-separated)
# If not set, defaults based on NODE_ENV:
# - development: allows all origins
# - production: no CORS (set explicitly)
# CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# ============================================
# Monitoring & Metrics (Optional)
# ============================================

# Nginx Metrics URL (for Prometheus scraping)
# NGINX_METRICS_URL=http://loadbalancer/nginx-metrics

# ============================================
# Grafana (Optional - for docker-compose)
# ============================================

# Grafana Admin Password
# GRAFANA_ADMIN_PASSWORD=admin

# ============================================
# Email Service (Optional - if using email notifications)
# ============================================

# Email service configuration would go here if implemented
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=your-email@example.com
# SMTP_PASS=your-password
# SMTP_FROM=noreply@example.com

